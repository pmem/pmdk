<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>PMDK C++ bindings: pmem::obj::shared_mutex Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">PMDK C++ bindings
   &#160;<span id="projectnumber">1.2.0</span>
   </div>
   <div id="projectbrief">This is the C++ bindings documentation for PMDK&#39;s libpmemobj.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>pmem</b></li><li class="navelem"><b>obj</b></li><li class="navelem"><a class="el" href="classpmem_1_1obj_1_1shared__mutex.html">shared_mutex</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classpmem_1_1obj_1_1shared__mutex-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">pmem::obj::shared_mutex Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Persistent memory resident <a class="el" href="classpmem_1_1obj_1_1shared__mutex.html" title="Persistent memory resident shared_mutex implementation. ">shared_mutex</a> implementation.  
 <a href="classpmem_1_1obj_1_1shared__mutex.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="shared__mutex_8hpp_source.html">libpmemobj++/shared_mutex.hpp</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:ad4c7fd0b2addf9babd42dc3827585c87"><td class="memItemLeft" align="right" valign="top">typedef PMEMrwlock *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpmem_1_1obj_1_1shared__mutex.html#ad4c7fd0b2addf9babd42dc3827585c87">native_handle_type</a></td></tr>
<tr class="memdesc:ad4c7fd0b2addf9babd42dc3827585c87"><td class="mdescLeft">&#160;</td><td class="mdescRight">Implementation defined handle to the native type.  <a href="#ad4c7fd0b2addf9babd42dc3827585c87">More...</a><br /></td></tr>
<tr class="separator:ad4c7fd0b2addf9babd42dc3827585c87"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a041c6db7c70b2e9b66955af0b8f92e82"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpmem_1_1obj_1_1shared__mutex.html#a041c6db7c70b2e9b66955af0b8f92e82">shared_mutex</a> ()</td></tr>
<tr class="memdesc:a041c6db7c70b2e9b66955af0b8f92e82"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default constructor.  <a href="#a041c6db7c70b2e9b66955af0b8f92e82">More...</a><br /></td></tr>
<tr class="separator:a041c6db7c70b2e9b66955af0b8f92e82"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a67fc051f71440ccb0ba99cdc38973ae3"><td class="memItemLeft" align="right" valign="top"><a id="a67fc051f71440ccb0ba99cdc38973ae3"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpmem_1_1obj_1_1shared__mutex.html#a67fc051f71440ccb0ba99cdc38973ae3">~shared_mutex</a> ()=default</td></tr>
<tr class="memdesc:a67fc051f71440ccb0ba99cdc38973ae3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Defaulted destructor. <br /></td></tr>
<tr class="separator:a67fc051f71440ccb0ba99cdc38973ae3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aef1d143b637eec7e679d420e98a2f458"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpmem_1_1obj_1_1shared__mutex.html#aef1d143b637eec7e679d420e98a2f458">lock</a> ()</td></tr>
<tr class="memdesc:aef1d143b637eec7e679d420e98a2f458"><td class="mdescLeft">&#160;</td><td class="mdescRight">Lock the mutex for exclusive access.  <a href="#aef1d143b637eec7e679d420e98a2f458">More...</a><br /></td></tr>
<tr class="separator:aef1d143b637eec7e679d420e98a2f458"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a016982730a6f61cd2acf53af986cdf03"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpmem_1_1obj_1_1shared__mutex.html#a016982730a6f61cd2acf53af986cdf03">lock_shared</a> ()</td></tr>
<tr class="memdesc:a016982730a6f61cd2acf53af986cdf03"><td class="mdescLeft">&#160;</td><td class="mdescRight">Lock the mutex for shared access.  <a href="#a016982730a6f61cd2acf53af986cdf03">More...</a><br /></td></tr>
<tr class="separator:a016982730a6f61cd2acf53af986cdf03"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af144d333c724830c62d8a337021a5e48"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpmem_1_1obj_1_1shared__mutex.html#af144d333c724830c62d8a337021a5e48">try_lock</a> ()</td></tr>
<tr class="memdesc:af144d333c724830c62d8a337021a5e48"><td class="mdescLeft">&#160;</td><td class="mdescRight">Try to lock the mutex for exclusive access, returns regardless if the lock succeeds.  <a href="#af144d333c724830c62d8a337021a5e48">More...</a><br /></td></tr>
<tr class="separator:af144d333c724830c62d8a337021a5e48"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af161f61d3c651d5242ea998ea0a6b4f9"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpmem_1_1obj_1_1shared__mutex.html#af161f61d3c651d5242ea998ea0a6b4f9">try_lock_shared</a> ()</td></tr>
<tr class="memdesc:af161f61d3c651d5242ea998ea0a6b4f9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Try to lock the mutex for shared access, returns regardless if the lock succeeds.  <a href="#af161f61d3c651d5242ea998ea0a6b4f9">More...</a><br /></td></tr>
<tr class="separator:af161f61d3c651d5242ea998ea0a6b4f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6e7235073e03684262572fa3873706a8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpmem_1_1obj_1_1shared__mutex.html#a6e7235073e03684262572fa3873706a8">unlock</a> ()</td></tr>
<tr class="memdesc:a6e7235073e03684262572fa3873706a8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unlocks the mutex.  <a href="#a6e7235073e03684262572fa3873706a8">More...</a><br /></td></tr>
<tr class="separator:a6e7235073e03684262572fa3873706a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a103d7133acda9ad85e8298a3ca5c4fb0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpmem_1_1obj_1_1shared__mutex.html#a103d7133acda9ad85e8298a3ca5c4fb0">unlock_shared</a> ()</td></tr>
<tr class="memdesc:a103d7133acda9ad85e8298a3ca5c4fb0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unlocks the mutex.  <a href="#a103d7133acda9ad85e8298a3ca5c4fb0">More...</a><br /></td></tr>
<tr class="separator:a103d7133acda9ad85e8298a3ca5c4fb0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1f59afab85e7ab4aca1f01c45ff87b29"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classpmem_1_1obj_1_1shared__mutex.html#ad4c7fd0b2addf9babd42dc3827585c87">native_handle_type</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpmem_1_1obj_1_1shared__mutex.html#a1f59afab85e7ab4aca1f01c45ff87b29">native_handle</a> () noexcept</td></tr>
<tr class="memdesc:a1f59afab85e7ab4aca1f01c45ff87b29"><td class="mdescLeft">&#160;</td><td class="mdescRight">Access a native handle to this shared mutex.  <a href="#a1f59afab85e7ab4aca1f01c45ff87b29">More...</a><br /></td></tr>
<tr class="separator:a1f59afab85e7ab4aca1f01c45ff87b29"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e6044b942aa5f80070d26b699ef37cb"><td class="memItemLeft" align="right" valign="top">enum pobj_tx_param&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpmem_1_1obj_1_1shared__mutex.html#a8e6044b942aa5f80070d26b699ef37cb">lock_type</a> () const noexcept</td></tr>
<tr class="memdesc:a8e6044b942aa5f80070d26b699ef37cb"><td class="mdescLeft">&#160;</td><td class="mdescRight">The type of lock needed for the transaction API.  <a href="#a8e6044b942aa5f80070d26b699ef37cb">More...</a><br /></td></tr>
<tr class="separator:a8e6044b942aa5f80070d26b699ef37cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3445df31fc547e28bd229cd47a41359a"><td class="memItemLeft" align="right" valign="top"><a id="a3445df31fc547e28bd229cd47a41359a"></a>
<a class="el" href="classpmem_1_1obj_1_1shared__mutex.html">shared_mutex</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpmem_1_1obj_1_1shared__mutex.html#a3445df31fc547e28bd229cd47a41359a">operator=</a> (const <a class="el" href="classpmem_1_1obj_1_1shared__mutex.html">shared_mutex</a> &amp;)=delete</td></tr>
<tr class="memdesc:a3445df31fc547e28bd229cd47a41359a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deleted assignment operator. <br /></td></tr>
<tr class="separator:a3445df31fc547e28bd229cd47a41359a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3ed3e745981b913f8815c63b7caf9bae"><td class="memItemLeft" align="right" valign="top"><a id="a3ed3e745981b913f8815c63b7caf9bae"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpmem_1_1obj_1_1shared__mutex.html#a3ed3e745981b913f8815c63b7caf9bae">shared_mutex</a> (const <a class="el" href="classpmem_1_1obj_1_1shared__mutex.html">shared_mutex</a> &amp;)=delete</td></tr>
<tr class="memdesc:a3ed3e745981b913f8815c63b7caf9bae"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deleted copy constructor. <br /></td></tr>
<tr class="separator:a3ed3e745981b913f8815c63b7caf9bae"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:adfc0eb55610e46a9ddc5ea4f64548954"><td class="memItemLeft" align="right" valign="top">PMEMrwlock&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpmem_1_1obj_1_1shared__mutex.html#adfc0eb55610e46a9ddc5ea4f64548954">plock</a></td></tr>
<tr class="memdesc:adfc0eb55610e46a9ddc5ea4f64548954"><td class="mdescLeft">&#160;</td><td class="mdescRight">A POSIX style PMEM-resident <a class="el" href="classpmem_1_1obj_1_1shared__mutex.html" title="Persistent memory resident shared_mutex implementation. ">shared_mutex</a>.  <a href="#adfc0eb55610e46a9ddc5ea4f64548954">More...</a><br /></td></tr>
<tr class="separator:adfc0eb55610e46a9ddc5ea4f64548954"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Persistent memory resident <a class="el" href="classpmem_1_1obj_1_1shared__mutex.html" title="Persistent memory resident shared_mutex implementation. ">shared_mutex</a> implementation. </p>
<p>This class is an implementation of a PMEM-resident share_mutex which mimics in behavior the C++11 std::mutex. This class satisfies all requirements of the SharedMutex and StandardLayoutType concepts. The typical usage would be: </p><div class="fragment"><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="persistent__ptr_8hpp.html">libpmemobj++/persistent_ptr.hpp</a>&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="pool_8hpp.html">libpmemobj++/pool.hpp</a>&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="shared__mutex_8hpp.html">libpmemobj++/shared_mutex.hpp</a>&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;mutex&gt;</span></div><div class="line"></div><div class="line"><span class="keyword">namespace </span>nvobj = <a class="code" href="namespacepmem_1_1obj.html">pmem::obj</a>;</div><div class="line"></div><div class="line"><span class="keywordtype">void</span></div><div class="line">shared_mutex_example()</div><div class="line">{</div><div class="line">    <span class="comment">// pool root structure</span></div><div class="line">    <span class="keyword">struct </span>root {</div><div class="line">        nvobj::shared_mutex pmutex;</div><div class="line">    };</div><div class="line"></div><div class="line">    <span class="comment">// create a pmemobj pool</span></div><div class="line">    <span class="keyword">auto</span> pop = nvobj::pool&lt;root&gt;::create(<span class="stringliteral">&quot;poolfile&quot;</span>, <span class="stringliteral">&quot;layout&quot;</span>,</div><div class="line">                         PMEMOBJ_MIN_POOL);</div><div class="line">    <span class="keyword">auto</span> proot = pop.get_root();</div><div class="line"></div><div class="line">    <span class="comment">// typical usage schemes</span></div><div class="line">    proot-&gt;pmutex.lock_shared();</div><div class="line"></div><div class="line">    std::unique_lock&lt;nvobj::shared_mutex&gt; guard(proot-&gt;pmutex);</div><div class="line">}</div></div><!-- fragment --></div><h2 class="groupheader">Member Typedef Documentation</h2>
<a id="ad4c7fd0b2addf9babd42dc3827585c87"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad4c7fd0b2addf9babd42dc3827585c87">&#9670;&nbsp;</a></span>native_handle_type</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef PMEMrwlock* <a class="el" href="classpmem_1_1obj_1_1shared__mutex.html#ad4c7fd0b2addf9babd42dc3827585c87">pmem::obj::shared_mutex::native_handle_type</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Implementation defined handle to the native type. </p>

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a041c6db7c70b2e9b66955af0b8f92e82"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a041c6db7c70b2e9b66955af0b8f92e82">&#9670;&nbsp;</a></span>shared_mutex()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">pmem::obj::shared_mutex::shared_mutex </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Default constructor. </p>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="classpmem_1_1lock__error.html" title="Custom lock error class. ">lock_error</a></td><td>when the <a class="el" href="classpmem_1_1obj_1_1shared__mutex.html" title="Persistent memory resident shared_mutex implementation. ">shared_mutex</a> is not from persistent memory. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="aef1d143b637eec7e679d420e98a2f458"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aef1d143b637eec7e679d420e98a2f458">&#9670;&nbsp;</a></span>lock()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void pmem::obj::shared_mutex::lock </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Lock the mutex for exclusive access. </p>
<p>If a different thread already locked this mutex, the calling thread will block. If the same thread tries to lock a mutex it already owns, either in exclusive or shared mode, the behavior is undefined.</p>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="classpmem_1_1lock__error.html" title="Custom lock error class. ">lock_error</a></td><td>when an error occurs, this includes all system related errors with the underlying implementation of the mutex. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a016982730a6f61cd2acf53af986cdf03"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a016982730a6f61cd2acf53af986cdf03">&#9670;&nbsp;</a></span>lock_shared()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void pmem::obj::shared_mutex::lock_shared </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Lock the mutex for shared access. </p>
<p>If a different thread already locked this mutex for exclusive access, the calling thread will block. If it was locked for shared access by a different thread, the lock will succeed.</p>
<p>The mutex can be locked for shared access multiple times by the same thread. If so, the same number of unlocks must be made to unlock the mutex.</p>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="classpmem_1_1lock__error.html" title="Custom lock error class. ">lock_error</a></td><td>when an error occurs, this includes all system related errors with the underlying implementation of the mutex. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a8e6044b942aa5f80070d26b699ef37cb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8e6044b942aa5f80070d26b699ef37cb">&#9670;&nbsp;</a></span>lock_type()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">enum pobj_tx_param pmem::obj::shared_mutex::lock_type </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The type of lock needed for the transaction API. </p>
<dl class="section return"><dt>Returns</dt><dd>TX_PARAM_RWLOCK </dd></dl>

</div>
</div>
<a id="a1f59afab85e7ab4aca1f01c45ff87b29"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1f59afab85e7ab4aca1f01c45ff87b29">&#9670;&nbsp;</a></span>native_handle()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classpmem_1_1obj_1_1shared__mutex.html#ad4c7fd0b2addf9babd42dc3827585c87">native_handle_type</a> pmem::obj::shared_mutex::native_handle </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Access a native handle to this shared mutex. </p>
<dl class="section return"><dt>Returns</dt><dd>a pointer to PMEMmutex. </dd></dl>

</div>
</div>
<a id="af144d333c724830c62d8a337021a5e48"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af144d333c724830c62d8a337021a5e48">&#9670;&nbsp;</a></span>try_lock()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool pmem::obj::shared_mutex::try_lock </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Try to lock the mutex for exclusive access, returns regardless if the lock succeeds. </p>
<p>If the same thread tries to lock a mutex it already owns either in exclusive or shared mode, the behavior is undefined.</p>
<dl class="section return"><dt>Returns</dt><dd><code>true</code> on successful lock acquisition, <code>false</code> otherwise.</dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="classpmem_1_1lock__error.html" title="Custom lock error class. ">lock_error</a></td><td>when an error occurs, this includes all system related errors with the underlying implementation of the mutex. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="af161f61d3c651d5242ea998ea0a6b4f9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af161f61d3c651d5242ea998ea0a6b4f9">&#9670;&nbsp;</a></span>try_lock_shared()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool pmem::obj::shared_mutex::try_lock_shared </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Try to lock the mutex for shared access, returns regardless if the lock succeeds. </p>
<p>The mutex can be locked for shared access multiple times by the same thread. If so, the same number of unlocks must be made to unlock the mutex. If the calling thread already owns the mutex in any mode, the behavior is undefined.</p>
<dl class="section return"><dt>Returns</dt><dd><code>false</code> if a different thread already locked the mutex for exclusive access, <code>true</code> otherwise.</dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="classpmem_1_1lock__error.html" title="Custom lock error class. ">lock_error</a></td><td>when an error occurs, this includes all system related errors with the underlying implementation of the mutex. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a6e7235073e03684262572fa3873706a8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6e7235073e03684262572fa3873706a8">&#9670;&nbsp;</a></span>unlock()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void pmem::obj::shared_mutex::unlock </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Unlocks the mutex. </p>
<p>The mutex must be locked for exclusive access by the calling thread, otherwise results in undefined behavior. </p>

</div>
</div>
<a id="a103d7133acda9ad85e8298a3ca5c4fb0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a103d7133acda9ad85e8298a3ca5c4fb0">&#9670;&nbsp;</a></span>unlock_shared()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void pmem::obj::shared_mutex::unlock_shared </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Unlocks the mutex. </p>
<p>The mutex must be locked for shared access by the calling thread, otherwise results in undefined behavior. </p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="adfc0eb55610e46a9ddc5ea4f64548954"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adfc0eb55610e46a9ddc5ea4f64548954">&#9670;&nbsp;</a></span>plock</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">PMEMrwlock pmem::obj::shared_mutex::plock</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>A POSIX style PMEM-resident <a class="el" href="classpmem_1_1obj_1_1shared__mutex.html" title="Persistent memory resident shared_mutex implementation. ">shared_mutex</a>. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>pmdk/src/include/libpmemobj++/<a class="el" href="shared__mutex_8hpp_source.html">shared_mutex.hpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
